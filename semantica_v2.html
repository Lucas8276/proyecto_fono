<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Ruleta Personajes</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .ruleta {
      position: relative;
      width: 650px;
      height: 560px;
      border-radius: 50%;
      margin: 50px auto;
      background: conic-gradient(
        #50C4ED 0deg 60deg,
        #4681A1 60deg 120deg,
        #3C5F7B 120deg 180deg,
        #3CA4BF 180deg 240deg,
        #4EC8C0 240deg 300deg,
        #63D6ED 300deg 360deg
      );
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .ruleta .centro {
      position: absolute;
      width: 120px;
      height: 120px;
      background: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-family: Arial, sans-serif;
      z-index: 2;
      text-align: center;
      font-size: 2 rem;
      transition: transform 0.3s cubic-bezier(.17,.67,.83,.67), font-size 0.2s cubic-bezier(.17,.67,.83,.67);
      cursor: pointer;
    }
    .ruleta .centro:hover {
      transform: scale(1.1);
      font-size: 1.5rem;
    }

    .ruleta .icono {
      position: absolute;
      width: 80px;
      height: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      overflow: hidden;
      background: white;
      box-shadow: 0 2px 8px rgba(80,196,237,0.10);
      z-index: 1;
      left: 50%;
      top: 50%;
      transform-origin: center center;
      /* El transform se ajusta dinámicamente por JS */
    }

    .ruleta .icono img {
      width: 92%;
      height: 92%;
      object-fit: contain;
      border-radius: 50%;
      display: block;
      margin: auto;
      mask-image: radial-gradient(circle, white 98%, transparent 100%);
      -webkit-mask-image: radial-gradient(circle, white 98%, transparent 100%);
      box-shadow: 0 2px 8px rgba(80,196,237,0.10);
      background: #fff;
    }
  </style>
</head>
<body>

<div class="contenedor-principal" style="display: flex; justify-content: center; align-items: flex-start; gap: 40px; margin-top: 40px; margin-bottom: 40px; background: #f4fafd; border-radius: 22px; box-shadow: 0 6px 24px rgba(80,196,237,0.10); padding: 32px 24px; max-width: 900px; margin-left: auto; margin-right: auto;">
  <div class="ruleta">
    <div class="centro" id="centroRuleta">PERSONAJES</div>
    <!-- Íconos distribuidos en círculo -->
    <div class="icono"><img src="images/fonologia/nena.png" alt="Niña" title="Niña"></div>
    <div class="icono"><img src="images/morfosintaxis/perro.jpg" alt="Perro" title="Perro"></div>
    <div class="icono"><img src="images/morfosintaxis/pulpo.jpg" alt="Pulpo" title="Pulpo"></div>
    <div class="icono"><img src="images/morfosintaxis/monstruo.jpg" alt="Monstruo" title="Monstruo"></div>
    <div class="icono"><img src="images/morfosintaxis/astronauta.jpg" alt="Astronauta" title="Astronauta"></div>
    <div class="icono"><img src="images/morfosintaxis/hada.jpg" alt="Hada" title="Hada"></div>
  </div>
  <div class="recuadro-texto" style="display: flex; flex-direction: column; align-items: center;">
    <label for="respuestaUsuario" style="font-weight: bold; margin-bottom: 8px; color: #3C5F7B;">Escribe tu respuesta:</label>
    <textarea id="respuestaUsuario" rows="8" cols="28" placeholder="Escribe aquí tu oración..." style="resize: none; border-radius: 12px; border: 2px solid #50C4ED; padding: 10px; font-size: 1.1em; background: #f8fcff;"></textarea>
  </div>
</div>

<!-- Botón para girar la ruleta -->
<!-- Eliminado el botón girar -->


<script>
const ruleta = document.querySelector('.ruleta');
const iconos = document.querySelectorAll('.ruleta .icono');
const personajes = [
  { nombre: 'Niña',    angulo: 12 },
  { nombre: 'Perro',   angulo: 70 },
  { nombre: 'Pulpo',   angulo: 160 },
  { nombre: 'Monstruo',angulo: 235 },
  { nombre: 'Astronauta', angulo: 278 },
  { nombre: 'Hada',    angulo: 325 }
];
let girando = false;

// Distribuir iconos en círculo y mantener orientación
iconos.forEach((icono, i) => {
  const angulo = personajes[i].angulo;
  // Radios personalizados para cada personaje
  let radio;
  if (i === 0) {
    radio = 170; // Niña
  } else if (i === 1) {
    radio = 110; // Perro
  } else if (i === 2) {
    radio = 80; // Pulpo
  } else if (i === 3) {
    radio = 120; // Monstruo
  } else if (i === 4) {
    radio = 200; // Astronauta
  } else if (i === 5) {
    radio = 200; // Hada
  }
  icono.style.transform = `rotate(${angulo}deg) translateY(-${radio}px) rotate(${-angulo}deg)`;
  icono.style.left = "50%";
  icono.style.top = "50%";
});

function girarRuleta() {
  if (girando) return;
  girando = true;
  const secciones = personajes.length;
  const seccion = Math.floor(Math.random() * secciones);
  const vueltas = 5; // Vueltas completas
  const anguloFinal = 360 * vueltas + (360 / secciones) * seccion + (360 / secciones) / 2;
  ruleta.style.transition = 'transform 4s cubic-bezier(.17,.67,.83,.67)';
  ruleta.style.transform = `rotate(${anguloFinal}deg)`;

  setTimeout(() => {
    ruleta.style.transition = '';
    ruleta.style.transform = `rotate(${(360 / secciones) * seccion + (360 / secciones) / 2}deg)`;
    girando = false;
    // Mostrar resultado
    alert('¡Salió: ' + personajes[seccion].nombre + '!');
  }, 4000);
}

document.getElementById('centroRuleta').addEventListener('click', girarRuleta);
</script>

</body>
</html>
