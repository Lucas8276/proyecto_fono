<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Segmentación Silábica - Juego</title>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #FFDEE9, #B5FFFC);
            padding: 20px;
            font-family: Arial, sans-serif;
            background-image: url('images/fonetica/background/cartoon-clouds.png');
            background-repeat: repeat;
        }
        .container {
            max-width: 700px;
            margin: 0 auto;
            background: white;
            padding: 30px 20px 20px 20px;
            border-radius: 18px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.12);
        }
        h1 {
            color: #3a3a3a;
            text-align: center;
            margin-bottom: 18px;
        }
        .subtitle {
            color: #2196F3;
            font-size: 1.1em;
            text-align: center;
            margin-bottom: 18px;
        }
        .lapiz-img {
            display: flex;
            justify-content: center;
            margin-bottom: 18px;
        }
        .lapiz-img img {
            width: 90px;
            height: auto;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 18px;
            margin-bottom: 24px;
        }
        .grid-item {
            background: #f7faff;
            border: 2px solid #b3e5fc;
            border-radius: 14px;
            padding: 10px 5px 5px 5px;
            text-align: center;
            cursor: pointer;
            transition: box-shadow 0.2s, border 0.2s, background 0.2s;
            box-shadow: 0 2px 6px rgba(0,0,0,0.07);
            position: relative;
        }
        .grid-item.selected {
            border: 3px solid #ffb300;
            background: #fffde7;
            box-shadow: 0 4px 12px rgba(255,193,7,0.13);
        }
        .grid-item.correct {
            border: 3px solid #4CAF50;
            background: #e8f5e9;
        }
        .grid-item.incorrect {
            border: 3px solid #f44336;
            background: #ffebee;
        }
        .grid-item img {
            width: 70px;
            height: 70px;
            object-fit: contain;
            margin-bottom: 7px;
        }
        .grid-item .label {
            font-size: 1em;
            color: #333;
            font-weight: 500;
        }
        .btn-check {
            display: block;
            margin: 0 auto;
            background: #2196F3;
            color: white;
            border: none;
            border-radius: 7px;
            padding: 12px 28px;
            font-size: 1.1em;
            cursor: pointer;
            transition: background 0.2s;
        }
        .btn-check:hover {
            background: #1769aa;
        }
        @media (max-width: 600px) {
            .container { padding: 10px; }
            .grid-item img { width: 50px; height: 50px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Segmentación silábica</h1>
        <div class="subtitle">Marca las imágenes que tienen la <b>misma cantidad de sílabas</b> que <b>LÁPIZ</b>.</div>
        <div class="lapiz-img">
            <img src="images/lapiz.png" alt="Lápiz">
        </div>
        <div class="grid" id="syllableGrid">
            <!-- Las imágenes se insertarán aquí -->
        </div>
        <button class="btn-check" onclick="checkAnswers()">Comprobar</button>
    </div>
    <script>
        // Lista de imágenes y nombres
        const items = [
            { name: 'Mesa', img: 'images/fonologia/mesa.png', syllables: 2 },
            { name: 'Llave', img: 'images/fonologia/llave.jpg', syllables: 2 },
            { name: 'Sacapuntas', img: 'images/fonologia/sacapuntas.jpg', syllables: 4 },
            { name: 'Koala', img: 'images/fonologia/koala.jpg', syllables: 3 },
            { name: 'Vela', img: 'images/fonologia/vela.jpg', syllables: 2 },
            { name: 'Niña', img: 'images/fonologia/nena.png', syllables: 2 },
            { name: 'Flor', img: 'images/fonologia/flor.jpg', syllables: 1 },
            { name: 'Zapato', img: 'images/fonologia/zapato.jpg', syllables: 3 },
            { name: 'Pato', img: 'images/fonologia/pato.jpg', syllables: 2 }
        ];
        // Sílaba objetivo: lápiz = 2
        const correctSyllables = 2;
        // Cargar imágenes en la cuadrícula
        const grid = document.getElementById('syllableGrid');
        items.forEach((item, idx) => {
            const div = document.createElement('div');
            div.className = 'grid-item';
            div.setAttribute('data-idx', idx);
            div.onclick = function() {
                if (div.classList.contains('correct') || div.classList.contains('incorrect')) return;
                div.classList.toggle('selected');
            };
            const img = document.createElement('img');
            img.src = item.img;
            img.alt = item.name;
            const label = document.createElement('div');
            label.className = 'label';
            label.textContent = item.name;
            div.appendChild(img);
            div.appendChild(label);
            grid.appendChild(div);
        });
        // Comprobar respuestas
        function checkAnswers() {
            const gridItems = document.querySelectorAll('.grid-item');
            let anySelected = false;
            gridItems.forEach((div, idx) => {
                if (div.classList.contains('selected')) {
                    anySelected = true;
                    if (items[idx].syllables === correctSyllables) {
                        div.classList.add('correct');
                        div.classList.remove('selected');
                    } else {
                        div.classList.add('incorrect');
                        div.classList.remove('selected');
                    }
                } else {
                    // Si no fue seleccionada pero es correcta, la dejamos igual
                }
            });
            if (!anySelected) {
                Swal.fire({
                    icon: 'info',
                    title: 'Selecciona al menos una imagen',
                    confirmButtonText: 'OK',
                    customClass: { popup: 'animate__animated animate__shakeX' }
                });
                return;
            }
            // Mostrar feedback general
            setTimeout(() => {
                Swal.fire({
                    icon: 'success',
                    title: '¡Listo!',
                    text: 'Las imágenes en verde tienen la misma cantidad de sílabas que LÁPIZ.',
                    confirmButtonText: 'Aceptar',
                    customClass: { popup: 'animate__animated animate__bounceIn' }
                }).then((result) => {
                    if (result.isConfirmed) {
                        window.location.href = 'index.html';
                    }
                });
            }, 400);
        }
    </script>
</body>
</html>